#include "MT_Force.h"

const double dbCurrentByForce[] = {
  0.249112102, 0.310272097, 0.351436615, 0.383523526, 0.410244079, 0.433360156, 0.453861901, 0.472367025, 0.489289527, 0.504921817, 
  0.519478886, 0.5331239, 0.545983922, 0.558160036, 0.569734109, 0.580773477, 0.591334253, 0.601463749, 0.611202256, 0.620584405, 
  0.629640198, 0.638395817, 0.646874258, 0.655095846, 0.663078634, 0.670838743, 0.678390633, 0.685747328, 0.692920604, 0.699921151, 
  0.706758699, 0.713442141, 0.719979619, 0.726378615, 0.732646022, 0.738788201, 0.74481104, 0.750719999, 0.756520152, 0.762216225, 
  0.767812624, 0.773313467, 0.778722609, 0.784043664, 0.789280024, 0.794434878, 0.799511232, 0.804511915, 0.809439601, 0.814296816, 
  0.81908595, 0.823809267, 0.828468913, 0.833066927, 0.837605245, 0.842085708, 0.846510069, 0.850879999, 0.855197089, 0.859462859, 
  0.863678762, 0.867846185, 0.871966454, 0.876040842, 0.880070564, 0.884056787, 0.888000631, 0.891903168, 0.895765432, 0.899588413, 
  0.903373064, 0.907120301, 0.910831008, 0.914506034, 0.918146198, 0.92175229, 0.925325071, 0.928865277, 0.932373616, 0.935850775, 
  0.939297415, 0.942714176, 0.946101677, 0.949460518, 0.952791279, 0.95609452, 0.959370785, 0.962620602, 0.965844481, 0.969042918, 
  0.972216392, 0.97536537, 0.978490305, 0.981591636, 0.98466979, 0.987725182, 0.990758215, 0.993769279, 0.996758758, 0.999727021, 
  1.002674428
};

double MT_Force_GetCurrent(double dbForceRate)
{
  int int_part;
  double frac_part;
  
  dbForceRate *= 100;
  
  int_part = (int)dbForceRate;
  frac_part = dbForceRate - int_part;
  
  return dbCurrentByForce[int_part] + (dbCurrentByForce[int_part + 1] - dbCurrentByForce[int_part]) * frac_part;
}
